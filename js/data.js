const main_list = [
  {name: "Miha Difficult", creators: ["KuratheGuy","MihaMilos","Triscis","Hexy","Gamecheese"], id: "240", image: "miha_difficult.png", verifier: "Lunikay", victors: [

  ], points: 20, verifyVideo: "https://youtu.be/cLTTnC6Xkng?si=mBykLJDoUk9aA1It"},

  {name: "Also Anathema", creators: ["Burda5800gd","Kosmos","PERFARATARRRRRR"], id: "665", image: "also_anathema.png", verifier: "Burda5800gd", victors: [

  ], points: 15, verifyVideo: "https://youtu.be/tYlGDH_Bxcg?si=-2UHvzKXQ8WqB6uV"},

  {name: "Chaos Circles", creators: ["MiRPacK19"], id: "620", image: "chaos_circles.png", verifier: "MiRPacK19", victors: [

  ], points: 13, verifyVideo: "https://t.me/hybrid_gdps_archive/9"},

  {name: "Platinum Circles", creators: ["2Rus"], id: "180", image: "platinum_circles.png", verifier: "player", victors: [

  ], points: 10, verifyVideo: ""},

  {name: "EQU1NOX", creators: ["TW1ST3D"], id: "300", image: "equ1nox.png", verifier: "player", victors: [

  ], points: 9.5, verifyVideo: ""},

  {name: "ILOVEWAVE", creators: ["Burda5800gd"], id: "408", image: "ilovewave.png", verifier: "Burda5800gd", victors: [
    {name: "MiRPacK19", progress: 100, video: "https://t.me/hybrid_gdps_archive/4"}
  ], points: 9, verifyVideo: "https://t.me/hybrid_gdps_archive/8"},

  {name: "Evil Pebble", creators: ["SuperDanya12"], id: "398", image: "evil_pebble.png", verifier: "SuperDanya12", victors: [
    {name: "Burda5800gd", progress: 100, video: ""}
  ], points: 5, verifyVideo: "https://t.me/hybrid_gdps_archive/11"},

  {name: "toxic waste", creators: ["KraM"], id: "644", image: "toxic_waste.png", verifier: "TimurBossGD", victors: [
    {name: "MiRPacK19", progress: 100, video: "https://t.me/hybrid_gdps_archive/5"}
  ], points: 4.5, verifyVideo: ""},

  {name: "MAYMORY", creators: ["Kosmos"], id: "393", image: "maymory.png", verifier: "Kosmos", victors: [
    {name: "Burda5800gd", progress: 100, video: ""}
  ], points: 2, verifyVideo: ""},

  {name: "DIACET", creators: ["ZippRolex"], id: "566", image: "diacet.png", verifier: "player", victors: [

  ], points: 1.5, verifyVideo: ""},

  {name: "CDVG", creators: ["pushkin228"], id: "241", image: "cdvg.png", verifier: "player", victors: [

  ], points: 1, verifyVideo: ""},

  {name: "Dual Switch", creators: ["Kosmos"], id: "639", image: "dual_switch.png", verifier: "Kosmos", victors: [

  ], points: 0.99, verifyVideo: ""},

  {name: "2p Force", creators: ["BiseikaGMD"], id: "443", image: "2p_force.png", verifier: "player", victors: [

  ], points: 0.97, verifyVideo: ""},

  {name: "goida epta", creators: ["jaggeddima"], id: "429", image: "goida_epta.png", verifier: "jaggeddima", victors: [

  ], points: 0.94, verifyVideo: ""},

  {name: "Fractured Reality", creators: ["diore"], id: "301", image: "fractured_reality.png", verifier: "player", victors: [

  ], points: 0.93, verifyVideo: ""},

  {name: "Sine Wave", creators: ["Burda5800gd"], id: "405", image: "sine_wave.png", verifier: "Burda5800gd", victors: [

  ], points: 0.9, verifyVideo: ""},

  {name: "Unbound", creators: ["TW1ST3D"], id: "367", image: "unbound.png", verifier: "player", victors: [

  ], points: 0.89, verifyVideo: ""},

  {name: "Heaven and Hell", creators: ["SnowballZn"], id: "412", image: "heaven_and_hell.png", verifier: "SnowballZn", victors: [{name: "TimurBossGD", progress: 100, video: ""}], points: 0.81, verifyVideo: ""},

  {name: "THinkINg Fuck", creators: ["jaggeddima"], id: "127", image: "thinking_fuck.png", verifier: "jaggeddima", victors: [
    {name: "Burda5800gd", progress: 100, video: "https://t.me/hybrid_gdps_archive/6"}
  ], points: 0.75, verifyVideo: ""},

  {name: "8 Bit Game", creators: ["Kosmos"], id: "396", image: "8_bit_game.png", verifier: "Kosmos", victors: [

  ], points: 0.67, verifyVideo: ""},

  {name: "prism attack", creators: ["chaynik"], id: "582", image: "prism_attack.png", verifier: "player", victors: [

  ], points: 0.65, verifyVideo: ""},

  {name: "DzhunGarik", creators: ["diore"], id: "316", image: "dzhungarik.png", verifier: "player", victors: [

  ], points: 0.6, verifyVideo: ""},

  {name: "WWW ship", creators: ["Sqwizzy"], id: "638", image: "www_ship.png", verifier: "player", victors: [

  ], points: 0.52, verifyVideo: ""},

  {name: "U are an idiot", creators: ["Burda5800gd"], id: "404", image: "u_are_an_idiot.png", verifier: "Burda5800gd", victors: [

  ], points: 0.45, verifyVideo: ""},

  {name: "El3CTr0 C1rcLeS", creators: ["jaggeddima"], id: "227", image: "el3ctr0_c1rcles.png", verifier: "jaggeddima", victors: [

  ], points: 0.4, verifyVideo: ""},

  {name: "Lava Bounce", creators: ["Kosmos"], id: "394", image: "lava_bounce.png", verifier: "Kosmos", victors: [
    {name: "SuperDanya12", progress: 100, video: "https://t.me/hybrid_gdps_archive/12"}
  ], points: 0.1, verifyVideo: ""}
];

const future_list = [
  {name: "Nullscape", author: "SuperDanya12", image: "nullscape.png", status: "Verifying"},

  {name: "ILOVEWAVE II", author: "Burda5800gd", image: "ilovewave_ii.png", status: "Verifying"},

  {name: "Hybrid Avernus", author: "Kwist", image: "hybrid_avernus.png", status: "Building"},

  {name: "Toxic Waste Infinity", author: "SuperDanya12", image: "toxic_waste_infinity.png", status: "Building"},

  {name: "High Tide", author: "SnowballZn", image: "high_tide.png", status: "Building"},

  {name: "Azurema", author: "SnowballZn", image: "azurema.png", status: "Building"}
];

function calculatePoints(basePoints, progress) {
  if (progress >= 100) return basePoints;
  if (progress >= 60) return Math.round((basePoints / 2) * 100) / 100;
  return 0;
}

function getYouTubeEmbedUrl(url) {
  if (!url) return null;
  let match = url.match(/(?:youtu\.be\/|youtube\.com\/(?:watch\?v=|embed\/|shorts\/))([a-zA-Z0-9_-]{11})/);
  if (match) return "https://www.youtube.com/embed/" + match[1];
  return null;
}

function getGDriveEmbedUrl(url) {
  if (!url) return null;
  let match = url.match(/drive\.google\.com\/file\/d\/([a-zA-Z0-9_-]+)/);
  if (match) return "https://drive.google.com/file/d/" + match[1] + "/preview";
  return null;
}

function getDropboxEmbedUrl(url) {
  if (!url) return null;
  if (url.includes("dropbox.com")) {
    return url.replace("www.dropbox.com", "dl.dropboxusercontent.com").replace("?dl=0", "");
  }
  return null;
}

function getEmbedUrl(url) {
  if (!url) return null;
  let yt = getYouTubeEmbedUrl(url);
  if (yt) return { type: "iframe", url: yt };
  let gd = getGDriveEmbedUrl(url);
  if (gd) return { type: "iframe", url: gd };
  let db = getDropboxEmbedUrl(url);
  if (db) return { type: "video", url: db };
  if (url.includes("t.me/")) return { type: "link", url: url };
  return { type: "link", url: url };
}
